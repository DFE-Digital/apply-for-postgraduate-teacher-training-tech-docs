<% if properties.any? %>
### <%= schema_name %>
<table>
<thead>
  <tr>
    <th>Name</th>
    <th>Type</th>
    <th>Required</th>
    <th>Description</th>
    <th>Schema</th>
  </tr>
</thead>
<tbody>
<% properties.each do |property_name, property_attributes| %>
<tr>
  <td><%= property_name %></td>
  <td><%= property_attributes.type %></td>
  <td><%= property_name.in?(schema.required.to_a) ? "true" : "false" %></td>
  <td>
    <%= property_attributes.description %>
    <% if property_attributes.type == 'string' && property_attributes.max_length.present? %>
      <p>(limited to <%= property_attributes.max_length %> characters)</p>
    <% elsif property_attributes.type == 'array' && property_attributes.max_items.present? %>
      <p>(limited to <%= property_attributes.max_items %> elements)</p>
    <% end %>
  </td>
  <td>
    <%=
    linked_schema = property_attributes
    # If property is an array, check the items property for a reference.
    if property_attributes.type == 'array'
      linked_schema = property_attributes['items']
    end
    # Only print a link if it's a referenced object.
    get_schema_link(linked_schema) if linked_schema.node_context.referenced_by.to_s.include?('#/components/schemas') && !linked_schema.node_context.source_location.to_s.include?('/properties/') %>
  </td>
</tr>
<% end %>
</tbody>
</table>
<% end %>
